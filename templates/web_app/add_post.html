{% extends 'web_app/bcc.html' %}
{% load staticfiles %}
{% block title_block %}
Add Post
{% endblock %}

{% block body_block %}
<div class="hero-unit">
    <h1>Add Post</h1>
    {% if post_added %}
    BringMeHome says: <strong>You just post something!</strong>
    <a href="{% url 'index' %}">Return to the homepage.</a><br />
    {% else %}
    <form method='POST' action='' enctype='multipart/form-data'>{% csrf_token %}
        {% for field in post_form %}
        {#% if field.id_for_label != 'id_text' %#}
        <div class="fieldWrapper">
            {{ field.errors }}
            {{ field.label_tag }} {{ field }}
            {% if field.help_text %}
            <p class="help">{{ field.help_text|safe }}</p>
            {% endif %}
        </div>
        {#% endif %#}
        {% endfor %}
        <input type='submit' class='btn btn-default' value='Create Post' />
    </form>
    {% endif %}
</div>
<script>
    var onLoaded = function () {
        // I am assuming your field has id of where_load, it might be different
        var location_input = document.getElementById('id_text');
        var autocomplete = new google.maps.places.Autocomplete(location_input);
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAOwO2A_hmXFVDvjhz5Ygv9m-ZvR1_gYcM&libraries=places&callback=onLoaded" async defer></script>
{% endblock %}