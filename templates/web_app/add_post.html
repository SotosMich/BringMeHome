{% extends 'web_app/bbc.html' %}
{% load staticfiles %}
{% block title_block %}
    Add Post
{% endblock %}

{% block body_block %}
    <section class="s-extra">
        <div class="row">
            {% if post_added %}
                <strong>Thank you for posting!</strong><br/>
                <a href="{% url 'index' %}">Click here to reurn to the homepage.</a><br/>
            {% else %}
                <h1>Add a Post</h1>
                <form method='POST' action='' enctype='multipart/form-data'>{% csrf_token %}
                    {% for field in post_form %}
                        {#% if field.id_for_label != 'id_text' %#}
                        <div class="fieldWrapper">
                            {{ field.errors }}
                            {{ field.label_tag }} {{ field }}
                            {% if field.help_text %}
                                <p class="help">{{ field.help_text|safe }}</p>
                            {% endif %}
                        </div>
                        {#% endif %#}
                    {% endfor %}
                    <input type='submit' class="btn btn--primary btn-wide btn--large full-width" value='Submit'/>
                </form>
            {% endif %}
        </div>
    </section>
    <script>
        var onLoaded = function () {
            // I am assuming your field has id of where_load, it might be different
            var location_input = document.getElementById('id_text');
            var autocomplete = new google.maps.places.Autocomplete(location_input);
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAOwO2A_hmXFVDvjhz5Ygv9m-ZvR1_gYcM&libraries=places&callback=onLoaded" async defer></script>
{% endblock %}